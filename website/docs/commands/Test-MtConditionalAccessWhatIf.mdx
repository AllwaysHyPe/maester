---
sidebar_class_name: hidden
description: Test Conditional Access What If scenario.
id: Test-MtConditionalAccessWhatIf
title: Test-MtConditionalAccessWhatIf
hide_title: false
hide_table_of_contents: false
custom_edit_url: https://github.com/maester365/maester/blob/main/powershell/public/Test-MtConditionalAccessWhatIf.ps1
---

## SYNOPSIS

Test Conditional Access What If scenario.

## SYNTAX

### ApplicationBasedCA (Default)

```powershell
Test-MtConditionalAccessWhatIf [-UserId] <String> -IncludeApplications <String[]> [-DevicePlatform <String>]
 [-ClientAppType <String>] [-SignInRiskLevel <String>] [-UserRiskLevel <String>] [-AllResults]
 [-ProgressAction <ActionPreference>] [<CommonParameters>]
```

### UserActionBasedCA

```powershell
Test-MtConditionalAccessWhatIf [-UserId] <String> [-UserAction <String[]>] [-DevicePlatform <String>]
 [-ClientAppType <String>] [-SignInRiskLevel <String>] [-UserRiskLevel <String>] [-AllResults]
 [-ProgressAction <ActionPreference>] [<CommonParameters>]
```

## DESCRIPTION

This function tests a Conditional Access evaluation with What If for a given scenario.

The function uses the Microsoft Graph API to evaluate the Conditional Access policies.

Learn more:
https://learn.microsoft.com/entra/identity/conditional-access/what-if-tool

## EXAMPLES

### EXAMPLE 1

```powershell
TODO
```

## PARAMETERS

### -UserId

The UserId to test the Conditional Acccess policie with

```yaml
Type: String
Parameter Sets: (All)
Aliases:

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName, ByValue)
Accept wildcard characters: False
```

### -IncludeApplications

The applications that should be tested Default: All
Must be a valid application ID (GUID)

```yaml
Type: String[]
Parameter Sets: ApplicationBasedCA
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -UserAction

The user action that should be tested.
Default: registerOrJoinDevices

```yaml
Type: String[]
Parameter Sets: UserActionBasedCA
Aliases:

Required: False
Position: Named
Default value: RegisterOrJoinDevices
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -DevicePlatform

The device platform that should be tested.
Default: windows

```yaml
Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: Windows
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -ClientAppType

The client app used by the user.
Default: all

```yaml
Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: All
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -SignInRiskLevel

The sign in risk level of the user sign-in.
Default: None

```yaml
Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -UserRiskLevel

The user risk level of the user signing in.
Default: None

```yaml
Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -AllResults

Output all results

```yaml
Type: SwitchParameter
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: False
Accept pipeline input: False
Accept wildcard characters: False
```

### -ProgressAction

\{\{ Fill ProgressAction Description \}\}

```yaml
Type: ActionPreference
Parameter Sets: (All)
Aliases: proga

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### CommonParameters

This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see [about_CommonParameters](http://go.microsoft.com/fwlink/?LinkID=113216).

## INPUTS

## OUTPUTS

### System.Object

## NOTES

## RELATED LINKS
